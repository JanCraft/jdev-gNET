const gNET={ws:void 0,isHost:void 0,clientID:void 0,handlers:{},connect:(s,t,e="ws://jdev-gameserver.herokuapp.com/gnet/")=>{gNET.ws=new WebSocket(e+s),gNET.ws.onmessage=(s=>{const e=JSON.parse(s.data);"control/handshake"==e.type?gNET.ws.send(JSON.stringify({type:"control/userid",data:{userID:t}})):"control/userid"==e.type?e.data.valid||location.reload():"control/mode"==e.type?gNET.isHost=e.data.host:gNET.handlers[e.type]&&gNET.handlers[e.type](e)})},on:(s,t)=>{gNET.handlers[s]=t},send:(s,t)=>{t&&gNET.isHost?gNET.ws.send(JSON.stringify({type:void 0,destination:t,data:s})):gNET.ws.send(JSON.stringify(s))},broadcast:s=>{gNET.isHost&&gNET.ws.send(JSON.stringify({type:void 0,destination:"[{broadcast}]",data:s}))}};